(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-160bc19e"],{"07d1":function(t,e,i){},"7e51":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"idPhotoEl",staticClass:"id-photo-wrapper"},[i("div",{staticClass:"div-body"},[i("el-row",{staticClass:"row-area"},[i("el-col",{staticClass:"col-photo",attrs:{span:16}},[i("el-row",{staticClass:"row-photo"},[i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[i("img",{staticClass:"img_photo",attrs:{src:t.leftPhotoSrc}})]),i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[i("img",{staticClass:"img_photo",attrs:{src:t.rightPhotoSrc}})])],1),i("div",{staticClass:"div-upload"},[i("el-upload",{ref:"upload",staticClass:"btn-upload",attrs:{accept:".jpg, .jpeg, .png",action:t.uploadUrl,enctype:"multipart/form-data",limit:1,multiple:!1,"before-upload":t.beforeUpload,"on-exceed":t.outOfLimit,"on-success":t.importSuccess,"file-list":t.fileList,"auto-upload":!0}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("上传照片")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpeg、jpg、png文件")])],1)],1)],1),i("el-col",{staticClass:"col-control",attrs:{span:8}},[i("div",{staticClass:"div-select-color"},[i("div",{staticClass:"div-select-title"},[t._v(" 选择底色 ")]),i("div",{staticClass:"div-color-list div-list"},[i("div",{class:[0===t.makePhotoReq.color?t.divSelected:t.divColor,t.divWhite],on:{click:function(e){return t.setColor(0)}}}),i("div",{class:[1===t.makePhotoReq.color?t.divSelected:t.divColor,t.divRed],on:{click:function(e){return t.setColor(1)}}}),i("div",{class:[2===t.makePhotoReq.color?t.divSelected:t.divColor,t.divBlue],on:{click:function(e){return t.setColor(2)}}})])]),i("div",{staticClass:"div-select-size"},[i("div",{staticClass:"div-select-title"},[t._v(" 选择尺寸 ")]),i("div",{staticClass:"div-size-list div-list"},[i("el-radio-group",{model:{value:t.makePhotoReq.size,callback:function(e){t.$set(t.makePhotoReq,"size",e)},expression:"makePhotoReq.size"}},t._l(t.sizeList,(function(e,s){return i("el-radio",{key:s,staticStyle:{display:"block"},attrs:{label:e.label}},[t._v(t._s(e.value))])})),1)],1)]),i("div",{staticClass:"div-download"},[i("el-button",{staticClass:"btn-id-photo",attrs:{disabled:t.isBlank(t.makePhotoReq.img_id),type:"primary"},on:{click:t.makeIdPhotoClick}},[t._v("生成证件照")]),i("el-button",{staticClass:"btn-download",attrs:{disabled:t.isBlank(t.makePhotoReq.img_id)||t.isBlank(t.rightPhotoSrc),type:"primary"},on:{click:t.downloadFile}},[t._v("下载证件照")])],1)])],1),i("el-row",{staticClass:"row-top row-area"},[i("el-col",{attrs:{span:14}},[i("div",{staticClass:"div-desc"},[i("h1",[t._v("在线制作证件照，换背景颜色")]),i("div",{staticClass:"div-desc-list"},[i("div",{staticClass:"div-list-text"},[i("i",{staticClass:"el-icon-check"}),t._v("人工智能换背景，生活照变标准证件照")]),i("div",{staticClass:"div-list-text"},[i("i",{staticClass:"el-icon-check"}),t._v("无需下载软件，在线完成操作")]),i("div",{staticClass:"div-list-text"},[i("i",{staticClass:"el-icon-check"}),t._v("完全免费")])])])]),i("el-col",{attrs:{span:10}})],1)],1)])},o=[],l=(i("34ef"),i("28a5"),i("7f7f"),i("b775")),a={make_id_photo:"http://18.163.119.143:5000/download_cert_image"};function c(t){return Object(l["a"])({url:a.make_id_photo,method:"POST",data:t})}var r={name:"IdPhoto",data:function(){return{leftPhotoSrc:"",rightPhotoSrc:"",sizeList:[{label:0,value:"1⼨       295*413px"},{label:1,value:"⼤1⼨   389*566px"},{label:2,value:"⼩2⼨   413*531px"},{label:3,value:"2⼨       413*579px"},{label:4,value:"⼤2⼨    413*626px"},{label:-1,value:"原图大小"}],makePhotoReq:{size:0,color:0,img_id:null},uploadUrl:"http://18.163.119.143:5000/upload_image",fileList:[],idPhotoEl:null,fileName:"",divSelected:"div-selected",divColor:"div-color",divWhite:"div-white",divRed:"div-red",divBlue:"div-blue"}},mounted:function(){this.idPhotoEl=this.$refs["idPhotoEl"],console.log("url",this.uploadUrl)},methods:{isBlank:function(t){return this.$options.filters.isBlank(t)},importSuccess:function(t,e,i){0===t.code?(this.makePhotoReq.img_id=t.img_id,this.showLeftPhoto(e.raw),this.fileName=e.name.substring(0,e.name.lastIndexOf(".")),console.log(this.fileName),this.$message.success("上传成功")):this.$message.error(t.msg),this.$refs["upload"].clearFiles()},beforeUpload:function(t){var e=t.name.substring(t.name.lastIndexOf(".")+1);return"jpg"===e||"jpeg"===e||"png"===e||(this.$message.error("上传文件只能是.jpg、.jpeg、.png格式!"),!1)},outOfLimit:function(t,e){this.$message.error("一次只能上传一张照片！照片上传中，请稍后...")},makeIdPhotoClick:function(){var t=this,e=this.$loading(this.idPhotoEl);c(this.makePhotoReq).then((function(e){console.log(e),t.rightPhotoSrc=e.img})).finally((function(){e.close()}))},setColor:function(t){this.makePhotoReq.color=t},downloadFile:function(){var t=document.createElement("a"),e=this.base64ToBlob(this.rightPhotoSrc),i=document.createEvent("HTMLEvents");i.initEvent("click",!0,!0),t.download=this.fileName+"(证件照)",t.href=URL.createObjectURL(e),t.click()},base64ToBlob:function(t){for(var e=t.split(";base64,"),i=e[0].split(":")[1],s=window.atob(e[1]),o=s.length,l=new Uint8Array(o),a=0;a<o;++a)l[a]=s.charCodeAt(a);return new Blob([l],{type:i})},showLeftPhoto:function(t){var e="",i=new FileReader;i.readAsDataURL(t);var s=this;i.onload=function(t){e=this.result.substring(this.result.indexOf(",")+1),s.leftPhotoSrc="data:image/png;base64,"+e}}}},n=r,d=(i("9ca5"),i("2877")),u=Object(d["a"])(n,s,o,!1,null,"71da4652",null);e["default"]=u.exports},"9ca5":function(t,e,i){"use strict";var s=i("07d1"),o=i.n(s);o.a}}]);